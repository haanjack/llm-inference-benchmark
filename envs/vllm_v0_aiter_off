#!/bin/bash

MODEL_NAME=""
VLLM_IMAGE=""

QUANTIZATION="fp8" # "", fp8
KV_CACHE_DTYPE="auto" # auto, fp8

# VLLM control environment variables
VLLM_USE_V1=0
VLLM_V1_USE_PREFILL_DECODE_ATTENTION=1
# VLLM_ROCM_USE_AITER=1
# VLLM_ROCM_USE_AITER_MHA=0
# VLLM_ROCM_USE_AITER_RMSNORM=0
VLLM_ATTENTION_BACKEND=ROCM_FLASH
VLLM_WORKER_MULTIPROC_METHOD=spawn
SAFETENSORS_FAST_GPU=1
OMP_NUM_THREADS=128
NCCL_MIN_NCHANNELS=112
HIP_FORCE_DEV_KERNARG=1
TORCH_BLAS_PREFER_HIPBLASLT=1
PYTORCH_TUNABLEOP_ENABLED=1
PYTORCH_TUNABLEOP_TUNING=1

TENSOR_PARALLEL_SIZE=1
PIPELINE_PARALLEL_SIZE=1

# Server Arguments
GPU_MEMORY_UTILIZATION=0.9

# Model Stored Path
HF_HOME=${HOME}/models
